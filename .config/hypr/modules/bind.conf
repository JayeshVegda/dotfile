##############################
# CONFIGURATION VARIABLES
##############################

$mainMod = SUPER # Sets "Windows" key as main modifier


##############################
# APPLICATION LAUNCHERS
##############################

# Terminal
bind = $mainMod, return, exec, $terminal

# Applications
bind = $mainMod, B, exec, zen-browser
bind = $mainMod SHIFT, B, exec, ghostty --class=bluetuith -e bluetuith
bind = $mainMod, N, exec, swaync-client -t -sw
bind = $mainMod SHIFT, T, exec, ~/.config/OCR4Linux/OCR4Linux.sh --lang eng

# Vicinae (launcher/rofi alternative)
bind = ALT, Space, exec, vicinae toggle
bind = $mainMod SHIFT, V, exec, vicinae vicinae://extensions/vicinae/clipboard/history
bind = $mainMod, e, exec, vicinae deeplink vicinae://extensions/vicinae/core/search-emojis

# Screenshots
bind = $mainMod SHIFT, S, exec, hyprshot -m region --clipboard-only
bind = , Print, exec, hyprshot -m output -o ~/Pictures/Screenshots

# System
bind = $mainMod SHIFT, L, exec, hyprlock  # Lock screen
bind = $mainMod SHIFT, E, exec, $terminal -e yazi; exit
bind = $mainMod, grave, togglespecialworkspace, scratch
##############################
# BASIC WINDOW MANAGEMENT
##############################

bind = $mainMod, Q, killactive,
#bind = $mainMod SHIFT, F, fullscreen
#bind = $mainMod SHIFT, F, togglefloating
bind = $mainMod, C, centerwindow,

##############################
# ZOOM CONTROLS
##############################

# Zoom with Super + mouse wheel (zooms around cursor)
bind = $mainMod, mouse_down, exec, hyprctl -q keyword cursor:zoom_factor $(hyprctl getoption cursor:zoom_factor -j | jq '.float * 1.1')
bind = $mainMod, mouse_up, exec, hyprctl -q keyword cursor:zoom_factor $(hyprctl getoption cursor:zoom_factor -j | jq '(.float * 0.9) | if . < 1 then 1 else . end')

# Zoom with Super + Z (zoom in) and Super + X (zoom out) - repeatable
binde = $mainMod, Z, exec, hyprctl -q keyword cursor:zoom_factor $(hyprctl getoption cursor:zoom_factor -j | jq '.float * 1.1')
binde = $mainMod, X, exec, hyprctl -q keyword cursor:zoom_factor $(hyprctl getoption cursor:zoom_factor -j | jq '(.float * 0.9) | if . < 1 then 1 else . end')

# Zoom with Super + ALT + +/- keys (alternative keyboard method)
binde = $mainMod ALT, equal, exec, hyprctl -q keyword cursor:zoom_factor $(hyprctl getoption cursor:zoom_factor -j | jq '.float * 1.1')
binde = $mainMod ALT, minus, exec, hyprctl -q keyword cursor:zoom_factor $(hyprctl getoption cursor:zoom_factor -j | jq '(.float * 0.9) | if . < 1 then 1 else . end')

# Zoom with Super + numpad +/- (repeatable)
binde = $mainMod, KP_ADD, exec, hyprctl -q keyword cursor:zoom_factor $(hyprctl getoption cursor:zoom_factor -j | jq '.float * 1.1')
binde = $mainMod, KP_SUBTRACT, exec, hyprctl -q keyword cursor:zoom_factor $(hyprctl getoption cursor:zoom_factor -j | jq '(.float * 0.9) | if . < 1 then 1 else . end')

# Reset zoom to 1.0 (normal)
bind = $mainMod SHIFT, mouse_up, exec, hyprctl -q keyword cursor:zoom_factor 1
bind = $mainMod SHIFT, mouse_down, exec, hyprctl -q keyword cursor:zoom_factor 1
bind = $mainMod SHIFT, Z, exec, hyprctl -q keyword cursor:zoom_factor 1
bind = $mainMod SHIFT, X, exec, hyprctl -q keyword cursor:zoom_factor 1
bind = $mainMod SHIFT, 0, exec, hyprctl -q keyword cursor:zoom_factor 1

##############################
# SHOW DESKTOP
##############################

# Toggle show desktop (hides/shows all windows on current workspace)
bind = $mainMod, D, exec, ~/.config/hypr/scripts/show-desktop.sh

##############################
# WINDOW FOCUS MOVEMENT
##############################

# Move focus with mainMod + arrow keys (enhanced with hyprscrolling focus command)
bind = $mainMod, h, layoutmsg, focus l
bind = $mainMod, l, layoutmsg, focus r
bind = $mainMod, j, layoutmsg, focus u
bind = $mainMod, k, layoutmsg, focus d

# Alternative: Standard movefocus (if you prefer not to auto-scroll)
# bind = $mainMod, h, movefocus, l
# bind = $mainMod, l, movefocus, r
# bind = $mainMod, j, movefocus, u
# bind = $mainMod, k, movefocus, d


##############################
# WORKSPACE MANAGEMENT
##############################

# Switch workspaces with mainMod + [0-9]
bind = $mainMod, 1, workspace, 1
bind = $mainMod, 2, workspace, 2
bind = $mainMod, 3, workspace, 3
bind = $mainMod, 4, workspace, 4
bind = $mainMod, 5, workspace, 5
bind = $mainMod, 6, workspace, 6
bind = $mainMod, 7, workspace, 7
bind = $mainMod, 8, workspace, 8
bind = $mainMod, 9, workspace, 9
bind = $mainMod, 0, workspace, 10

# Move active window to a workspace with mainMod + SHIFT + [0-9]
bind = $mainMod SHIFT, 1, movetoworkspace, 1
bind = $mainMod SHIFT, 2, movetoworkspace, 2
bind = $mainMod SHIFT, 3, movetoworkspace, 3
bind = $mainMod SHIFT, 4, movetoworkspace, 4
bind = $mainMod SHIFT, 5, movetoworkspace, 5
bind = $mainMod SHIFT, 6, movetoworkspace, 6
bind = $mainMod SHIFT, 7, movetoworkspace, 7
bind = $mainMod SHIFT, 8, movetoworkspace, 8
bind = $mainMod SHIFT, 9, movetoworkspace, 9
bind = $mainMod SHIFT, 0, movetoworkspace, 10

# Scroll through existing workspaces with mainMod + scroll
# Note: These are overridden by zoom controls below when using mouse wheel
# Use mainMod + Shift + mouse wheel for workspace switching if needed
bind = $mainMod SHIFT, mouse_down, workspace, e+1
bind = $mainMod SHIFT, mouse_up, workspace, e-1

bind = Alt, Tab, exec, ~/.config/hypr/scripts/alt-tab.sh
bind = Alt Shift, Tab, exec, ~/.config/hypr/scripts/alt-tab.sh --reverse
# Switch only between windows visible on active monitors

bind = Alt, escape, exec, ~/.config/hypr/scripts/alt-tab.sh --visible
bind = Alt Shift, escape, exec, ~/.config/hypr/scripts/alt-tab.sh --reverse --visible

bind = Alt, code:49, exec, ~/.config/hypr/scripts/alt-tab.sh --same
bind = Alt Shift, code:49, exec, ~/.config/hypr/scripts/alt-tab.sh --reverse --same





bind = $mainMod, period, layoutmsg, move +col  # Move layout right (next column)
bind = $mainMod, comma, layoutmsg, move -col   # Move layout left (previous column)
bind = $mainMod CTRL, period, layoutmsg, move +200  # Move layout right by 200px
bind = $mainMod CTRL, comma, layoutmsg, move -200   # Move layout left by 200px

# Move windows between columns
bind = $mainMod SHIFT, period, layoutmsg, movewindowto r  # Move window to right column
bind = $mainMod SHIFT, comma, layoutmsg, movewindowto l   # Move window to left column
bind = $mainMod SHIFT, k, layoutmsg, movewindowto u       # Move window up
bind = $mainMod SHIFT, j, layoutmsg, movewindowto d       # Move window down

# Column resizing
bind = $mainMod, equal, layoutmsg, colresize +0.2    # Increase current column width (incremental)
bind = $mainMod, minus, layoutmsg, colresize -0.2     # Decrease current column width (incremental)
bind = $mainMod SHIFT, equal, layoutmsg, colresize +conf  # Cycle to next preset width (terminal/medium/default/fullscreen)
bind = $mainMod SHIFT, minus, layoutmsg, colresize -conf  # Cycle to previous preset width
bind = $mainMod CTRL, equal, layoutmsg, colresize all 0.5  # Resize all columns to 50%

# Fit operations (bring columns/windows into view)
bind = $mainMod, f, layoutmsg, fit active    # Fit active column
bind = $mainMod SHIFT, f, layoutmsg, fit visible  # Fit visible columns
bind = $mainMod CTRL, f, layoutmsg, fit all  # Fit all columns
bind = $mainMod ALT, f, layoutmsg, fit toend  # Fit to end
bind = $mainMod ALT SHIFT, f, layoutmsg, fit tobeg  # Fit to beginning

# Column management
bind = $mainMod, p, layoutmsg, promote       # Promote window to its own column
bind = $mainMod SHIFT, h, layoutmsg, swapcol l  # Swap current column left
bind = $mainMod SHIFT, l, layoutmsg, swapcol r  # Swap current column right

# Toggle fit method (center vs fit)
bind = $mainMod, t, layoutmsg, togglefit

# Move entire column to workspace
bind = $mainMod CTRL SHIFT, 1, layoutmsg, movecoltoworkspace 1
bind = $mainMod CTRL SHIFT, 2, layoutmsg, movecoltoworkspace 2
bind = $mainMod CTRL SHIFT, 3, layoutmsg, movecoltoworkspace 3
bind = $mainMod CTRL SHIFT, 4, layoutmsg, movecoltoworkspace 4
bind = $mainMod CTRL SHIFT, 5, layoutmsg, movecoltoworkspace 5
bind = $mainMod CTRL SHIFT, 6, layoutmsg, movecoltoworkspace 6
bind = $mainMod CTRL SHIFT, 7, layoutmsg, movecoltoworkspace 7
bind = $mainMod CTRL SHIFT, 8, layoutmsg, movecoltoworkspace 8
bind = $mainMod CTRL SHIFT, 9, layoutmsg, movecoltoworkspace 9
bind = $mainMod CTRL SHIFT, 0, layoutmsg, movecoltoworkspace 10


##############################
# MULTIMEDIA & HARDWARE KEYS
##############################

# Audio controls (binde allows for repeating when held; l ensures it works even when the screen is locked)
bindel = , XF86AudioRaiseVolume, exec, wpctl set-volume -l 1.5 @DEFAULT_AUDIO_SINK@ 5%+
bindel = , XF86AudioLowerVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
bindel = , XF86AudioMicMute, exec, playerctl play-pause

# Brightness control
bindel = , XF86MonBrightnessUp, exec, brightnessctl set 5%+
bindel = , XF86MonBrightnessDown, exec, brightnessctl set 5%-

# Media playback (requires playerctl)
bindl = , XF86AudioNext, exec, playerctl next
bindl = , XF86AudioPause, exec, playerctl play-pause
bindl = , XF86AudioPlay, exec, playerctl play-pause
bindl = , XF86AudioPrev, exec, playerctl previousd
